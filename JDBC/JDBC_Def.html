<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN//2.0">
<HTML>
<HEAD>
<!-- Document generated by Thot -->
<TITLE>JDBC_Def</TITLE>
</HEAD>
<BODY>
<P><A HREF="#slide1">[Next]</A><A NAME="slide0"> </A></P><P></P>
<P></P>
<P></P><H1>JDBC - overview</H1><P> </P>
<P></P><H3> </H3>
<H4> </H4>
<HR>
<DIV>
<P><A HREF="#slide2">[Next]</A> <A HREF="#slide0">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide1"> </A></P>
<H2>JDBC - overview</H2><P> </P>

<P>Set of classes and interfaces written in the Java programming
language...</P>

<P>Most useful classes: </P>

<UL>
<LI>DriverManager 
<LI>Connection 
<LI>Statement 
<LI>ResultSet 
<LI>...
</UL>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide3">[Next]</A> <A HREF="#slide1">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide2"> </A></P>
<H2>DriverManager</H2><P> </P>

<UL>
<LI>The <TT>DriverManager</TT><TT> </TT>class is the management layer of
JDBC, working between the user and the drivers
<LI>keeps track of the drivers that are available and handles establishing a
connection between a database and the appropriate driver.
<LI>the <TT>DriverManager </TT>class attends to things like driver login
time limits and the printing of log and tracing messages
</UL>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide4">[Next]</A> <A HREF="#slide2">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide3"> </A></P>
<H2></H2><P> </P>

<P>For simple applications, the only method in this class that a programmer
needs to use directly is DriverManager.getConnection. </P>

<P>JDBC allows the user to call the DriverManager methods getDriver,
getDrivers, and registerDriver as well as the Driver method connect, but in
most cases it is better to let the DriverManager class manage the details of
establishing a connection.</P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide5">[Next]</A> <A HREF="#slide3">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide4"> </A></P>
<H2>Connection</H2><P> </P>

<UL>
<LI>A <TT>Connection</TT> object represents a connection with a database
<LI>A connection session includes the SQL statements that are executed and
the results that are returned over that connection
<LI>A single application can have one or more connections with a single
database, or it can have connections with many different databases. 
</UL>

<P>Standard way : call the method DriverManager.getConnection (string URL)
</P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide6">[Next]</A> <A HREF="#slide4">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide5"> </A></P>
<H2>getConnection</H2><P> </P>

<P>The <TT>DriverManager</TT> class, attempts to locate a driver than can
connect to the DB represented by the URL. The<TT> DriverManager</TT> class
maintains a list of registered <TT>Driver</TT> classes, and when the method
<TT>getConnection</TT> is called, it checks with each driver in the list
until it finds one that can connect to the database specified in the URL.
The <TT>Driver </TT>method <TT>connect </TT>uses this URL to actually
establish the connection.</P>

<P>Nota:  three signatures for getConnection  </P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide7">[Next]</A> <A HREF="#slide5">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide6"> </A></P>
<H2>Example</H2><P> </P>

<P>Opening a connection to a DB located at the URL "jdbc:odbc:wombat" with a
user ID of "oboy" and "12Java" as the password : </P>

<PRE>
String url = "jdbc:odbc:wombat";
Connection conn = &nbsp;DriverManager.getConnection(url, "oboy", "12Java");
</PRE>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide8">[Next]</A> <A HREF="#slide6">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide7"> </A></P>
<H2>JDBC URL</H2><P> </P>

<P>Standard syntax for JDBC URL ( three parts separated by colons): </P>
<TT>
<P>      jdbc:&lt;subprotocol>:&lt;subname></P>
</TT><TT>
<P>&lt;subprotocol> - the name of the driver or the name of a DB
connectivity mechanism, which may be supported by one or more drivers. </P>
</TT><TT>
<P><TT>&lt;subname></TT> - a way to identify the database. </P>
</TT><P><HR>
</DIV>
<DIV>
<P><A HREF="#slide9">[Next]</A> <A HREF="#slide7">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide8"> </A></P>
<H2>Statement</H2><P> </P>

<P>A <TT>Statement</TT><TT> </TT>object is used to send SQL statements to a
DB.</P>

<P>Three kinds of <TT>Statement</TT> objects:</P>

<P><TT>Statement</TT>, to execute a simple SQL statement with  no
parameters. </P>

<P><TT>PreparedStatement </TT>(inherits from <TT>Statement</TT>) to execute
a precompiled SQL statement with or without IN parameters</P>

<P><TT>CallableStatement </TT>(inherits from <TT>PreparedStatement</TT>)
used to execute a call to a DB stored procedure. </P>

<P> </P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide10">[Next]</A> <A HREF="#slide8">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide9"> </A></P>
<H2>Executing Statements ...</H2><P> </P>

<P>The <TT>Statement </TT>interface provides three different methods for
executing SQL statements: </P>

<P><TT>executeQuery</TT> is designed for statements that produce a single
result set, such as SELECT statements.</P>

<P><TT>executeUpdate</TT> is used to execute INSERT, UPDATE, or DELETE
statements and also SQL DDL statements like CREATE TABLE and DROP TABLE</P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide11">[Next]</A> <A HREF="#slide9">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide10"> </A></P>
<H2>...executing statements</H2><P> </P>

<P><TT>execute</TT> is used to execute statements that return more than one
result set, more than one update count, or a combination of the two.</P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide12">[Next]</A> <A HREF="#slide10">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide11"> </A></P>
<H2>Statement Completion</H2><P> </P>

<P>In auto-commit mode: the statements being executed within it are
committed or rolled back when they are completed. A statement is considered
complete when it has been executed and all its results have been returned.
For the method executeQuery, which returns one result set, the statement is
completed when all the rows of the ResultSet object have been retrieved. For
the method executeUpdate, a statement is completed when it is executed. In
the rare cases where the method execute is called, however, a statement is
not complete until all of the result sets or update counts it generated have
been retrieved. </P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide13">[Next]</A> <A HREF="#slide11">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide12"> </A></P>
<H2>Closing Statement Objects</H2><P> </P>

<P>Statement objects will be closed automatically by the Java garbage
collector. Nevertheless, it is recommended as good programming practice that
they be closed explicitly when they are no longer needed. This frees DBMS
resources immediately and helps avoid potential memory problems. </P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide14">[Next]</A> <A HREF="#slide12">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide13"> </A></P>
<H2>ResultSet</H2><P> </P>

<P>A<TT> ResultSet, </TT> </P>

<UL>
<LI>contains the rows that answer an SQL statement, 
<LI>provides access to the data in those rows through a set of get methods
that allow access to the various columns of the current row. 
<LI><TT>ResultSet.next</TT> method is used to move to the next row of the
ResultSet, making the next row become the current row
</UL>

<P>A cursor remains valid until the <TT>ResultSet</TT> object or its parent
<TT>Statement</TT> object is closed.</P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide15">[Next]</A> <A HREF="#slide13">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide14"> </A></P>
<H2>Columns</H2><P> </P>

<UL>
<LI>getXXX methods provide the means for retrieving column values from the
current row (e.g <TT>rs.getString("title")</TT>)
<LI>Within each row, column values may be retrieved in any order, but for
maximum portability, one should retrieve values from left to right and read
column values only once. 
<LI>Either the column name or the column number can be used to designate the
column from which to retrieve data. 
<LI>Columns are numbered from left to right starting with column 1 
</UL>

<P> </P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide16">[Next]</A> <A HREF="#slide14">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide15"> </A></P>
<H2>ResultSet MetaData</H2><P> </P>

<UL>
<LI>Column names used as input to getXXX methods are case insensitive
<P></P>

</UL>

<P>Information about the columns in a ResultSet is available by calling the
method ResultSet.getMetaData. The <TT>ResultSetMetaData</TT> object returned
gives the number, types, and properties of its <TT>ResultSet </TT>object's
columns.</P>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide17">[Next]</A> <A HREF="#slide15">[Previous]</A> <A
HREF="#slide0">[First]</A><A NAME="slide16"> </A></P>
<H2>Transactions</H2><P> </P>

<P>Methods <TT>commit</TT> or <TT>rollback</TT>:</P>

<P>when they are called, the current transaction ends and another one
begins. </P>

<UL>
<LI>A new connection is in auto-commit mode by default
<LI>auto-commit mode can be disabled 
<P>--> a  transaction will not terminate until the method commit or rollback
is called explicitly</P>

<P> </P>

</UL>
<P><HR>
</DIV>
<DIV>
<P><A HREF="#slide16">[Previous]</A> <A HREF="#slide0">[First]</A><A
NAME="slide17"> </A></P>
<H2>Isolation Levels</H2><P> </P>

<UL>
<LI>Transaction Isolation Levels
<P><TT>con.setTransactionIsolation</TT>(<TT>TRANSACTION_READ_UNCOMMITTED</TT>);</P>

</UL>

<P>Changing the transaction isolation level during a transaction is not
recommended</P>
<P><HR>
</DIV>

</BODY>
</HTML>
